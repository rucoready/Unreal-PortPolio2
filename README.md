# Project Seed - Unreal Portfolio

í¬íŠ¸í´ë¦¬ì˜¤ ëª©í‘œë¡œ ì œì‘ëœ íƒ‘ë‹¤ìš´ RPG ë°ëª¨ ê²Œì„ì…ë‹ˆë‹¤.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ì—”ì§„ : Unreal Engine 5.4 <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ê·œëª¨ : 2ì¸ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ì œì‘ê¸°ê°„ : 50ì¼ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ë‹´ë‹¹ë¶€ë¶„ : ì¸ë²¤í† ë¦¬ ì œì™¸ ì „ë¶€ <br/>

# ì‚¬ìš©í•œ ê°œë°œ ë„êµ¬<br/>

&nbsp;&nbsp;&nbsp;&nbsp;â— Microsoft Visual Studio <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— Blender<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— GithubDesktop<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— Github, GithubLFS<br/>

# ë°ëª¨ ì˜ìƒ 
| ì‹œì—°ì˜ìƒ 
| <a href="https://youtu.be/GQQTKInkYU4?si=LuZnMZ9ZGrvhFbc3"><img width="1920" height="1080" alt="Image" src="https://github.com/user-attachments/assets/0c4450f8-6378-4a69-a7a2-1d770803d3a5" /> </a> 
| (ì´ë¯¸ì§€ í´ë¦­ì‹œ ìœ íŠœë¸Œë¡œ ì´ë™í•©ë‹ˆë‹¤) | <br/>



# Packaging File
> **DownLoad Link**<br/>
â— https://drive.google.com/file/d/1BxTrYxhr6COFHqMP94oGQUsoWQQSigWw/view?usp=sharing <br/>


# ê¸°ìˆ  ì„¤ëª…
<br/>

## Player
ì§ì ‘ ì¡°ì‘ ê°€ëŠ¥í•œ ë©”ì¸ ìºë¦­í„°<br/>

&nbsp;&nbsp;&nbsp;&nbsp;â— íƒ‘ë‹¤ìš´ ì‹œì ì˜ ë§ˆìš°ìŠ¤ì´ë™, í‚¤ë³´ë“œì¡°ì‘ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— StateMachine, BlendSpaceë¥¼ í™œìš©í•œ ìì—°ìŠ¤ëŸ¬ìš´ ì›€ì§ì„ ì „í™˜ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— í”Œë ˆì´ì–´ì™€ ì—°ë™ëœ ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ì˜ ìœ„ì ¯ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ì‰½ê²Œ ì¶”ê°€í• ìˆ˜ìˆëŠ” ì½¤ë³´, ìŠ¤í‚¬ ëª½íƒ€ì¥¬ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— PostProcessë¥¼ ì‚¬ìš©í•œ ì—¬ëŸ¬ê°€ì§€ íš¨ê³¼<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— Decalì„ ì‚¬ìš©í•œ ì¸ë””ì¼€ì´í„°<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— MotionWarpingì„ ì‚¬ìš©í•œ ìì—°ìŠ¤ëŸ¬ìš´ í”Œë ˆì´ì–´ ì›€ì§ì„<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ì§êµíˆ¬ì˜ ë¯¸ë‹ˆë§µ<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ë„‰ë°±, ë ‰ëŒ, ë°ë¯¸ì§€Hudë¥¼ ì‚¬ìš©í•œ ì „íˆ¬ê²½í—˜<br/>

> **Player ì„¤ê³„ë„**<br/>

<div align="center">
  <h3 style="text-align: center; font-weight: bold;">Action Mappingì„ ì‚¬ìš©í•œ ì•¡ì…˜ë°”ì¸ë“œ</h3>
  <img src="https://github.com/user-attachments/assets/aaf2363e-8e46-477e-841e-d0bfd83de486" alt="Action Mapping ì´ë¯¸ì§€">
</div>

<table style="width: 100%;">
  <tr>
    <th style="width: 50%;">í”Œë ˆì´ì–´ ë©”ì¸ ìœ„ì ¯</th>
    <th style="width: 50%;">ë˜ì „ ìœ„ì ¯</th>
  </tr>
  <tr>
    <td style="width: 50%;">
      <img src="https://github.com/user-attachments/assets/30775e6b-355d-4e4c-b8d2-57022ec214bf" style="width: 100%; height: auto;" />
    </td>
    <td style="width: 50%;">
      <img src="https://github.com/user-attachments/assets/d41d398e-7bb1-4336-bf00-35e4833c05a1" style="width: 100%; height: auto;" />
    </td>
  </tr>
</table>

<table>
  <tr>
    <td align="center" width="50%">
      <strong>ë©”ì¸í™”ë©´ ìœ„ì ¯ ì• ë‹ˆë©”ì´ì…˜</strong><br>
      <img src="https://github.com/user-attachments/assets/3ff1b959-8a14-404f-a39c-cf0e0fa5892e" width="100%" />
    </td>
    <td align="center" width="50%">
      <strong>ë˜ì „ ìœ„ì ¯ ì• ë‹ˆë©”ì´ì…˜</strong><br>
      <img src="https://github.com/user-attachments/assets/34fc52c1-f234-4a2d-b11e-bf1bb35379fb" width="100%" />
    </td>
  </tr>
  <tr>
    <td colspan="2" align="center" style="border: 2px solid #ccc; padding: 10px;">
      <strong>ìºë¦­í„° ìœ„ì ¯ ì• ë‹ˆë©”ì´ì…˜</strong><br>
      <img src="https://github.com/user-attachments/assets/c345f613-e967-4573-a4e4-ae55a52d014f" width="100%" />
    </td>
  </tr>
</table>


<div align="center">
  <h3 style="text-align: center; font-weight: bold;">MotionWarpingì„ ì‚¬ìš©í•œ ë¶€ë“œëŸ¬ìš´ ë°©í–¥ì „í™˜</h3>
  <img src="https://github.com/user-attachments/assets/dce34d96-b3dd-43fd-b387-5b02aa9c8d4f" alt="ëª¨ì…˜ì›Œí•‘">	
</div>

<details>
<summary><strong>ğŸ“Œ ë§ˆìš°ìŠ¤ ìœ„ì¹˜ ê¸°ë°˜ MotionWarping ì½”ë“œ</strong></summary>

```cpp
APlayerController* playerController = Cast<APlayerController>(GetController());
if (!playerController)
{
    return;
}

FVector worldLocation, worldDirection;
if (playerController->DeprojectMousePositionToWorld(worldLocation, worldDirection))
{
    FVector start = worldLocation;
    FVector end = start + (worldDirection * 10000.0f);

    FHitResult hitResult;
    FCollisionQueryParams params;
    params.AddIgnoredActor(this);

    if (GetWorld()->LineTraceSingleByChannel(hitResult, start, end, ECC_Visibility, params))
    {
        FVector targetLocation = hitResult.Location;
        FVector direction = (targetLocation - GetActorLocation()).GetSafeNormal();
        FRotator targetRotation = direction.Rotation();

        // calculate targetLoc
        FVector desiredLocation = GetActorLocation() + direction * 100.0f;

        // sphereTrace
        FHitResult moveHit;
        float sphereRadius = 25.0f;

        bool bHit = GetWorld()->SweepSingleByChannel(
            moveHit,
            GetActorLocation(),
            desiredLocation,
            FQuat::Identity,
            ECC_Visibility,
            FCollisionShape::MakeSphere(sphereRadius),
            params
        );

        FVector finalLocation = bHit ? GetActorLocation() : desiredLocation;

        // final transform
        targetRotation.Pitch = 0.0f;
        targetRotation.Roll = 0.0f;

        FTransform targetTransform;
        targetTransform.SetLocation(finalLocation);
        targetTransform.SetRotation(targetRotation.Quaternion());

        if (motionWarpComponent)
        {
            motionWarpComponent->AddOrUpdateWarpTargetFromTransform(TEXT("Target"), targetTransform);
        }	
    }
}
```
</details>
<br/>


# Player ìŠ¤í‚¬ í‘œí˜„

ë°ì¹¼(Decal)ê³¼ PostProcessë¥¼ í™œìš©í•˜ì—¬ ìŠ¤í‚¬ ë° Blur íš¨ê³¼ë¥¼ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

## ğŸ¯ ë°ì¹¼ (Decal)

ì•„ë˜ ì´ë¯¸ì§€ëŠ” ë°ì¹¼ì„ ì‚¬ìš©í•œ ìŠ¤í‚¬ í‘œí˜„ ì˜ˆì‹œì…ë‹ˆë‹¤.

<table width="100%">
  <tr>
    <td width="50%">
      <img src="https://github.com/user-attachments/assets/a684f319-dd3f-4eff-9740-d78595073f6f" width="100%" alt="Decal Example 1" />
    </td>
    <td width="50%">
      <img src="https://github.com/user-attachments/assets/042b867e-8617-4d1c-be2f-389b52974f9c" width="100%" alt="Decal Example 2" />
    </td>
  </tr>
</table>

[ë°ì¹¼ ì œì‘ê³¼ì • ìì„¸íˆ ë³´ê¸°](https://lucodev.tistory.com/13)

---

## ğŸ¯ ì‹ ì† Blur íš¨ê³¼

ì•„ë˜ ì´ë¯¸ì§€ëŠ” PostProcessë¥¼ ì´ìš©í•´ êµ¬í˜„í•œ ì‹ ì† Blur íš¨ê³¼ì…ë‹ˆë‹¤.

<table style="width: 100%;">
  <tr>
    <td style="width: 50%;">
      <img src="https://github.com/user-attachments/assets/4e5fe6d7-1b85-4585-8f61-ab533f6f45e4" style="width: 100%; height: auto;" alt="Quick Blur Effect" />
    </td>
  </tr>
</table>

[ì‹ ì† Blur ì œì‘ê³¼ì • ìì„¸íˆ ë³´ê¸°](https://lucodev.tistory.com/32)

---


> **ë°ì´í„° ê´€ë¦¬**<br/>

DataTableì„ ì‚¬ìš©í•œ ë°ì´í„°ì…ë ¥ ë° ìˆ˜ì •<br/>
<table style="width: 100%;">
  <tr>
    <th style="width: 50%;">ìŠ¤í‚¬ ìˆ˜ì¹˜ ë° ê³„ìˆ˜ Data</th>
    <th style="width: 50%;">ìƒì  ì•„ì´í…œ ë°°ì—´ ë° ì •ë³´</th>
  </tr>
  <tr>
    <td style="width: 50%;">
      <img src="https://github.com/user-attachments/assets/09a7679f-f982-4fde-b7ba-ba5c42ab8fbf" style="width: 100%; height: auto;" />
    </td>
    <td style="width: 50%;">
      <img src="https://github.com/user-attachments/assets/9cf4d39c-9301-4a1d-a108-d19326a96e5c" style="width: 100%; height: auto;" />
    </td>
  </tr>
</table>
<br/>

SaveGame APIë¥¼ ì‚¬ìš©í•œ ë°ì´í„° ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸°  
<table>
  <tr>
    <td align="center" style="border: 1px solid #888; padding: 4px;">
      <img src="https://github.com/user-attachments/assets/699a1698-f02b-4da4-ab73-35a33c311733" alt="SaveGame ì„±ê³µ ì˜ˆì‹œ" width="300" />
    </td>
    <td align="center" style="border: 1px solid #888; padding: 4px;">
      <img src="https://github.com/user-attachments/assets/5b14f736-8847-4daf-a088-3d899960dbbb" alt="SaveGame" width="300" />
    </td>
  </tr>
</table>
<details>
<summary><strong>ğŸ“Œ ê²Œì„ ì„¸ì´ë¸Œ ì½”ë“œ</strong></summary>

```cpp
//save data File Name
saveGameInstance->saveSlotName = "PlayerSaveData";
saveGameInstance->saveIndex = 0;

saveGameInstance->savePlayerHp = playerSaveHp;
saveGameInstance->savePlayerMp = playerSaveMp;

//loc, rot, map
saveGameInstance->playerLastLocation = playerCharacter->GetActorLocation();
saveGameInstance->playerLastRotation = playerCharacter->GetActorRotation();
FString mapName = GetWorld()->GetMapName();

//Crits Percent, Money
saveGameInstance->userC = userC;
saveGameInstance->playerMoney = playerMoney;

//inven custom function
InvenSlotSave();
userGearSlotSave();
	
saveGameInstance->userGear = userGear;
saveGameInstance->slotItems = SlotItems;
saveGameInstance->itemInventory = ItemInventory;

mapName.RemoveFromStart(GetWorld()->StreamingLevelsPrefix);
saveGameInstance->lastMapName = mapName;

//polymolf gaze
saveGameInstance->saveBCanPoly = instanceBCanPoly;
saveGameInstance->saveBGaze14 = instanceBGaze14;
saveGameInstance->saveCurrentSoulGaze = instanceCurrentSoulGaze;
UGameplayStatics::SaveGameToSlot(saveGameInstance, saveGameInstance->saveSlotName, saveGameInstance->saveIndex);
```
</details>
<br/>

ê²Œì„ ëª¨ë“œë¥¼ ë³„ ë ˆë²¨ì˜ ë‹¤ì–‘í•œ ê²Œì„ ê·œì¹™ì´ ì ìš©.

<table align="center" style="border-collapse: separate; border-spacing: 0 20px; max-width: 320px; margin: auto;">
  <tr>
    <td align="center" style="border: 1px solid #888; padding: 4px; width: 320px; height: 180px;">
      <img src="https://github.com/user-attachments/assets/883ad0be-770b-4a62-b165-95f683521507" alt="SaveGame ì„±ê³µ ì˜ˆì‹œ" style="width: 100%; height: 100%; object-fit: cover;" />
    </td>
  </tr>
  <tr>
    <td align="center" style="border: 1px solid #888; padding: 4px; width: 320px; height: 180px;">
      <img src="https://github.com/user-attachments/assets/633b6321-d380-4ded-b8da-ee7b787f1c14" alt="SaveGame" style="width: 100%; height: 100%; object-fit: cover;" />
    </td>
  </tr>
</table>

## Enemy AI
ë˜ì „ì—ì„œ ìŠ¤í°ë˜ëŠ” AI<br/>

&nbsp;&nbsp;&nbsp;&nbsp;â— BehaviorTree ë™ì‘ë°©ì‹ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— 8ë°©í–¥ BlendSpaceì˜ ìì—°ìŠ¤ëŸ¬ìš´ ì›€ì§ì„ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— Interfaceë¥¼ ì‚¬ìš©í•œ í”Œë ˆì´ì–´ì™€ì˜ ìƒí˜¸ì‘ìš© <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— AI-Perception <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— RVO, EQS ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš© <br/>

ê¸°ë³¸ BehaviorTree ì‹ í˜¸ ë° ì„¤ê³„ë„

<img src="https://github.com/user-attachments/assets/2fb53dcc-b788-439d-b1d9-215db17307a4" alt="Behavior Tree ë™ì‘ ë°©ì‹" width="100%" />
<br><br>

> **Behavior Tree** <br/>
AIì˜ ë™ì‘ë°©ì‹ ì„¤ê³„ë„ì…ë‹ˆë‹¤
>
> 
&nbsp;&nbsp;&nbsp;&nbsp;â— êµ¬ë™ë°©ì‹ : Serviceë…¸ë“œì—ì„œì˜ EnumClassë¡œ ì •í•´ì§„ State ë³€í˜• <br>

| ê¸°ë³¸ íŠ¸ë¦¬ êµ¬ì„± | ì¶”ê°€ íŠ¸ë¦¬ êµ¬ì„± |
|:--------------:|:-------------------:|
| <img src="https://github.com/user-attachments/assets/5566b686-4456-4c66-922a-51697a04f943" alt="BehaviorTree Left" width="100%"/> | <img src="https://github.com/user-attachments/assets/d854d143-313e-4efa-ac8c-8327227b4cc5" alt="BehaviorTree Right" width="100%"/> |

## ğŸ¯ EQS ì‹œìŠ¤í…œ (Environment Query System)

> **EQS ëª¨ë¸ ì„¤ëª…**  
> Strafe ì´ë™ì„ ìœ„í•œ EQS ì‹œìŠ¤í…œ<br>
> í™˜ê²½ ì¿¼ë¦¬, ì ìˆ˜í™”, í•„í„°ë§ ê³¼ì •ì„ í†µí•´ ì ì ˆí•œ ìœ„ì¹˜ë¥¼ ì„ íƒí•©ë‹ˆë‹¤

<div align="center">
  
![EQS ì‹œìŠ¤í…œ êµ¬ì„±ë„](https://github.com/user-attachments/assets/10873efa-9d43-4cd3-96b8-c866aa892b92)

![eqsì›€ì§¤ ì´ë¯¸ì§€](https://github.com/user-attachments/assets/1977e5a8-a9a9-4b4b-84fc-18b9d6992eea)

</div>

> **8ë°©í–¥ BlendSpace**  
> ë¶€ë“œëŸ¬ìš´ ì›€ì§ì„ì„ ìœ„í•œ ëª¨ì…˜ì„¸íŒ…<br>

![8BlendSpaceì›€ì§¤](https://github.com/user-attachments/assets/7aa9b22c-615c-4586-9243-7dd4a0a03b3f)

<details>
<summary><strong>ğŸ“Œ BlendSpace ì„¤ê³„ë„ </strong></summary>

<br/>

![8BlendSpaceì„¤ê³„ë„ì‚¬ì§„](https://github.com/user-attachments/assets/84b2df3a-e4f4-4df1-bbd2-5308c6a92f8f)

</details>

> **ìŠ¤í°ê³¼ ë””ìŠ¤í°ì„ ìœ„í•œ DissolveMaterial**  
> ìŠ¤ì¹¼ë¼ íŒŒë¼ë¯¸í„°ì˜ ì œì–´ë¡œ ìŠ¤í°ê³¼ ë””ìŠ¤í°ì˜ ì—°ì¶œ<br>
> ë¨¸í‹°ë¦¬ì–¼ì— ì„¤ì •ëœ DissolveMaskì™€ ë…¸ì´ì¦ˆ í…ìŠ¤ì²˜ë¥¼ í™œìš©í•´, ìºë¦­í„°ê°€ ì ì°¨ ë‚˜íƒ€ë‚˜ê±°ë‚˜ ì‚¬ë¼ì§€ëŠ” ì‹œê° íš¨ê³¼ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.<br>
> **C++ ì½”ë“œì—ì„œ Material Parameter Collection(MPC)**ì˜ Scalar ê°’ì„ ì§ì ‘ ì¡°ì ˆí•˜ì—¬ Dissolve íš¨ê³¼ë¥¼ ì œì–´í•˜ë©°,<br>
> ì´ë¥¼ í†µí•´ ì—°ì¶œ íƒ€ì´ë°ì„ ì •ë°€í•˜ê²Œ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆê³ , ì—¬ëŸ¬ ì˜¤ë¸Œì íŠ¸ì— ì¼ê´„ ì ìš©í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

> ğŸ”— [ë‚´ í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ì—ì„œ ì œì‘ ê³¼ì • ë³´ê¸°](https://lucodev.tistory.com/48)

![ìŠ¤í°ì‚¬ì§„](https://github.com/user-attachments/assets/6ca11969-25d8-46c8-974b-2d4480e5f318)

<details>
<summary><strong>ğŸ“Œ DissolveMaterial ì œì–´ Task ì½”ë“œ </strong></summary>

```cpp
void UTask_SkeletonSpawn::TickTask(UBehaviorTreeComponent& ownerComp, uint8* nodeMemory, float deltaSeconds)
{
	Super::TickTask(ownerComp, nodeMemory, deltaSeconds);
	FTaskSkeletonSpawnMemory* taskMemory = reinterpret_cast<FTaskSkeletonSpawnMemory*>(nodeMemory);

	taskMemory->structCurrentTime += deltaSeconds;
	UBlackboardComponent* blackBoard = ownerComp.GetBlackboardComponent();
	if (taskMemory->structCurrentTime < 3.0f)
	{
		
		float dissolveValue = FMath::Lerp(maxDissolveValue, minDissolveValue, taskMemory->structCurrentTime / 3.0f);
		ABasicSkeletonEnemy* skeleton = Cast<ABasicSkeletonEnemy>(ownerComp.GetAIOwner()->GetPawn());
		for (int32 i = 0; i < 3; ++i)
		{
			int32 materialIndex = i;

			UMaterialInstanceDynamic* dynMat = skeleton->GetMesh()->CreateAndSetMaterialInstanceDynamic(materialIndex);
			if (dynMat)
			{
				dynMat->SetScalarParameterValue("Dissolve", dissolveValue);
			}
		}
		if (skeleton->sword)
		{
			int32 swordMatCount = skeleton->sword->GetNumMaterials();
			for (int32 i = 0; i < swordMatCount; ++i)
			{
				UMaterialInstanceDynamic* swordMat = skeleton->sword->CreateAndSetMaterialInstanceDynamic(i);
				if (swordMat)
				{
					swordMat->SetScalarParameterValue("Dissolve", dissolveValue);
				}
			}
		}
	}
	else
	{
		ABasicSkeletonEnemy* skeleton = Cast<ABasicSkeletonEnemy>(ownerComp.GetAIOwner()->GetPawn());
		blackBoard->SetValueAsBool("Spawn", true);
		FinishLatentTask(ownerComp, EBTNodeResult::Succeeded);
	}
}
```

</details>

## EnumClassë¥¼ ì‚¬ìš©í•œ BlackBoardKeyì œì–´  
BehaviorTreeì˜ Taskì—ì„œ Enum ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ AIì˜ ìƒíƒœë¥¼ ì œì–´í•©ë‹ˆë‹¤. <br/>
ì„œë¹„ìŠ¤ ë…¸ë“œì—ì„œ ì„¤ì •ëœ Enum ê°’ì„ ì½ì–´ì™€, í•´ë‹¹ ìƒíƒœì— ë”°ë¼ Taskë¥¼ ë¶„ê¸° ì‹¤í–‰í•©ë‹ˆë‹¤.<br/>

<img src="https://github.com/user-attachments/assets/6220ac42-0326-4446-b9dd-34eaf99d6733" alt="enumclassì‚¬ì§„1" width="600" />

<img src="https://github.com/user-attachments/assets/f3b4a923-b598-4b63-8e1e-925217316862" alt="enumclassì‚¬ì§„2" width="600" />

> ğŸ”— [ë‚´ í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ì—ì„œ ì œì‘ ê³¼ì • ë³´ê¸°](https://lucodev.tistory.com/42)


## Dragon Polymorph
ë“œë˜ê³¤ìœ¼ë¡œ ë³€ì‹  ê°€ëŠ¥í•œ ìºë¦­í„°<br/>

&nbsp;&nbsp;&nbsp;&nbsp;â— StateMachineìœ¼ë¡œ ì œì–´í•˜ëŠ” ì—¬ëŸ¬ê°€ì§€ BlendSpace <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ì»¨íŠ¸ë¡¤Rigì„ ë³€í˜•í•œ ì• ë‹ˆë©”ì´ì…˜ ì‹œí€€ìŠ¤ ë² ì´í¬ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— Layered Blend Per Bone ë…¸ë“œë¥¼ í™œìš©í•´ ëª© ìœ„ì™€ ëª© ì•„ë˜ë¥¼ ê°œë³„ì ìœ¼ë¡œ ì œì–´ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— Projectile íƒ€ì… íˆ¬ì‚¬ì²´ ë°œì‚¬ê°€ ê°€ëŠ¥ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ë³€ì‹  ì‹œ ê³ ìœ  ì‹œë„¤ë§ˆí‹± ì»·ì”¬ì´ ì¬ìƒë¨ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— Poccessë°©ì‹ ì»¨íŠ¸ë¡¤ëŸ¬ ì œì–´ <br/>

> **ê³ ìœ  ì‹œë„¤ ì»·ì”¬**  
> í”Œë ˆì´ì–´ì˜ ê²Œì´ì§€ê°€ Maxì¼ ê²½ìš° ë³€ì‹  ê°€ëŠ¥<br>

![Image](https://github.com/user-attachments/assets/f72e38e3-325b-446c-b90a-e855c28e8f2c) </div>

> **TakeOff / Landing** <br/>
> ìºë¦­í„°ì˜ ì´ë™ ìƒíƒœë¥¼ **Flying** ëª¨ë“œë¡œ ì „í™˜í•˜ì—¬,<br/>
ë¬¼ë¦¬ ê¸°ë°˜ ì¤‘ë ¥ íš¨ê³¼ë¥¼ ë¹„í™œì„±í™”í•˜ê³  ê³µì¤‘ì— ë¶€ìœ í•˜ëŠ” ë™ì‘ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.<br/>
ì´ë¥¼ í†µí•´ ê³µì¤‘ ì œì–´ ë° ì• ë‹ˆë©”ì´ì…˜ ì „í™˜ì´ ë§¤ë„ëŸ½ê²Œ ì´ë£¨ì–´ì§€ë„ë¡ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.
<table style="width: 100%;">
  <tr>
    <th style="width: 50%;">Take Off</th>
    <th style="width: 50%;">Landing</th>
  </tr>
  <tr>
    <td style="width: 50%;">
      <img src="https://github.com/user-attachments/assets/89298f03-1ecb-4746-ba2e-d4d1531d5033" style="height: 300px;" />
    </td>
    <td style="width: 50%;">
      <img src="https://github.com/user-attachments/assets/1964d324-54aa-497e-b606-5c1540b0d741" style="height: 300px;" />
    </td>
  </tr>
</table>

> **State Machineì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì›€ì§ì„ë³€ê²½**  
> AnimInstanceë¥¼ í™œìš©í•œ State Machine ê¸°ë°˜ì˜ BlendSpace ì œì–´<br>

![Image](https://github.com/user-attachments/assets/0f26084b-d34f-414f-8d14-b7d3d50a6b36) </div>

## ğŸï¸ State Machine ê¸°ë°˜ BlendSpace ì œì‘ ê³¼ì •

---

### 1. ğŸ› Control Rig ê¸°ë°˜ ì• ë‹ˆë©”ì´ì…˜ ì œì‘  
Control Rigë¥¼ ì‚¬ìš©í•´ ì§ì ‘ í¬ì¦ˆ ë° ì›€ì§ì„ì„ ì œì–´í•˜ë©° ì• ë‹ˆë©”ì´ì…˜ ì‹œí€€ìŠ¤ë¥¼ ì œì‘í•©ë‹ˆë‹¤.

<img src="https://github.com/user-attachments/assets/f8f6207e-b166-4b44-910c-e448c1869379" alt="ControlRig ì œì‘" width="600"/>

---

### 2. ğŸ”¥ ì• ë‹ˆë©”ì´ì…˜ ì‹œí€€ìŠ¤ ë² ì´í‚¹ í›„ BlendSpaceì— ì—°ë™  
Control Rigë¡œ ì œì‘í•œ ì‹œí€€ìŠ¤ë¥¼ Bakeí•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ ìì‚°ìœ¼ë¡œ ë³€í™˜í•œ ë’¤, ì´ë¥¼ BlendSpaceì— ì—°ê²°í•˜ì—¬ ë‹¤ì–‘í•œ ë°©í–¥ ì „í™˜/ì†ë„ì— ë”°ë¥¸ ìì—°ìŠ¤ëŸ¬ìš´ ì „í™˜ì„ êµ¬ì„±í•©ë‹ˆë‹¤.

<img src="https://github.com/user-attachments/assets/e0d24d5d-496c-4588-8549-400f6e115302" alt="BlendSpace ì—°ë™" width="600"/>

---

### 3. ğŸ¦´ SkeletalMeshì˜ Neck ë³¸ ë³„ë„ ì œì–´  
ìƒì²´ì˜ ì‹œì„  ë°©í–¥ì´ë‚˜ ê³ ê°œ ì›€ì§ì„ì„ ì„¸ë°€í•˜ê²Œ ì œì–´í•˜ê¸° ìœ„í•´, Neck ë³¸ì˜ íšŒì „ì€ ë³„ë„ë¡œ AnimInstanceì—ì„œ ì œì–´í•©ë‹ˆë‹¤.

<img src="https://github.com/user-attachments/assets/5a1f46fa-e4f3-4074-aa0a-6429357e685c" alt="Neck íšŒì „ ì ìš© 1" width="600"/>
<br/>
<img src="https://github.com/user-attachments/assets/f14c24f1-7358-4ed6-9d42-b1f77f2d59a0" alt="Neck íšŒì „ ì ìš© 2" width="600"/>

### 4. ğŸ® Possess í•¨ìˆ˜ë¡œ ìºë¦­í„° ì»¨íŠ¸ë¡¤ëŸ¬ ì—°ê²°  
`PlayerController` ê°€ ìºë¦­í„°ë¥¼ ì†Œìœ (Possess)í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.  
ì´ ê³¼ì •ìœ¼ë¡œ ìºë¦­í„°ì™€ ë“œë˜ê³¤ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ ì£¼ê³ ë°›ì„ìˆ˜ìˆìŠµë‹ˆë‹¤
<details>
<summary><strong>ğŸ“Œ Possess (í´ë¦¬ëª¨í”„) ì½”ë“œ </strong></summary>

```cpp
//new poccess
APlayerController* playerController = Cast<APlayerController>(GetController());
if (!playerController) return;

this->SetActorHiddenInGame(true);
this->SetActorEnableCollision(false);
this->SetActorTickEnabled(false);
playerController->UnPossess();

FVector dragonSpawnLocation = GetActorLocation();
FRotator dragonSpawnRotation = GetActorRotation();

//Once Spawn DragonActor
if (!newDragon)
{
	FActorSpawnParameters spawnParams;
	spawnParams.SpawnCollisionHandlingOverride = ESpawnActorCollisionHandlingMethod::AlwaysSpawn;
	newDragon = GetWorld()->SpawnActor<ADragonCharacter>(dragonCharacterClass, dragonSpawnLocation, dragonSpawnRotation, spawnParams);
	newDragon->rememberedSwordCharacter = this;
}

//pointer set
rememberedSwordController = playerController;
//Once Spawn DragonController
if (newDragon && !bIsDragonSpawned)
{
	//ê°•ì œì´ë™ ë°©ì§€
	newDragon->bInterpZ = false;
	if (equipmentUI) equipmentUI->SetVisibility(ESlateVisibility::Hidden);
	if (bloodWidget) bloodWidget->SetVisibility(ESlateVisibility::Hidden);
	if (characterWidget) characterWidget->SetVisibility(ESlateVisibility::Hidden);

	ULocalPlayer* localPlayer = playerController->GetLocalPlayer();
	newPossessController = GetWorld()->SpawnActor<APlayerController>(dragonControllerClass);
	
	if (newPossessController && localPlayer)
	{
		localPlayer->PlayerController = newPossessController;
		newPossessController->Player = localPlayer;
		newPossessController->Possess(newDragon);

		bIsDragonSpawned = true; 
	}
	newDragon->dragonWidget->StartPercentageOrbCountDown();
}
//already spawn controller
else if (newDragon && bIsDragonSpawned)
{
	newDragon->bInterpZ = false;
	newDragon->SetActorLocation(dragonSpawnLocation);
	newDragon->SetActorRotation(dragonSpawnRotation);
	newDragon->SetActorHiddenInGame(false);
	newDragon->SetActorEnableCollision(true);
	newDragon->SetActorTickEnabled(true);

	playerController->UnPossess();

	ULocalPlayer* localPlayer = playerController->GetLocalPlayer();
	if (localPlayer)
	{
		localPlayer->PlayerController = newPossessController;
		newPossessController->Player = localPlayer;
		newPossessController->Possess(newDragon);
	}
	// ì‚¬ëŒ UI ìˆ¨ê¸°ê¸°
	if (equipmentUI) equipmentUI->SetVisibility(ESlateVisibility::Hidden);
	if (bloodWidget) bloodWidget->SetVisibility(ESlateVisibility::Hidden);
	if (characterWidget) characterWidget->SetVisibility(ESlateVisibility::Hidden);
	newDragon->GetMesh()->SetVisibility(true);
	newDragon->dragonWidget->SetVisibility(ESlateVisibility::Visible);
	newDragon->dragonWidget->StartPercentageOrbCountDown();
	return;
}
```

</details>


## ğŸ“Œ ê²°ê³¼

AnimInstanceì—ì„œ StateMachineê³¼ BlendSpaceë¥¼ í•¨ê»˜ í™œìš©í•˜ì—¬,  
**ë‹¤ì–‘í•œ ë°©í–¥ì„±ê³¼ ì†ë„ì— ë”°ë¼ ìì—°ìŠ¤ëŸ½ê²Œ ì „í™˜ë˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì‹œìŠ¤í…œ**ì„ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.  
ë˜í•œ, **Neck ë³¸ì„ ê°œë³„ ì œì–´**í•¨ìœ¼ë¡œì¨ ìƒì²´ì˜ ì›€ì§ì„ê³¼ ì‹œì„  ì²˜ë¦¬ì— ë”ìš± ë””í…Œì¼í•œ ì—°ì¶œì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.  

<br/>

<p align="center">
  <img src="https://github.com/user-attachments/assets/f1f32033-d59f-4357-83f2-b84f8da62d53" alt="BlendSpace ê²°ê³¼ ì´ë¯¸ì§€" width="600"/>
  <br/>
  <em>â–² ìµœì¢… BlendSpace ì—°ë™ ê²°ê³¼</em>
</p>

## Interaction
í”Œë ˆì´ì–´ì™€ ìƒí˜¸ì‘ìš©ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ ë° ì‹œìŠ¤í…œ<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— í”¼ì§ìŠ¤ ë©”í…Œë¦¬ì–¼ FootStep ë° ì‚¬ìš´ë“œ ê´€ë¦¬<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— UI Absorption Effect<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ë§ˆìŠ¤í„° í•„ë“œë¥¼ ì‚¬ìš©í•œ Fracture ì—°ì¶œ<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— Npc<br/>
&nbsp;&nbsp;&nbsp;&nbsp;â— ë¹„ë™ê¸° ë¡œë”©<br/>

> **í”¼ì§ìŠ¤ ë©”í…Œë¦¬ì–¼ FootStep ë° ì‚¬ìš´ë“œ ê´€ë¦¬**  
> LandScape ë ˆë²¨ ë ˆì´ì–´ ë°œì†Œë¦¬ ë° ì´í™íŠ¸ ì¶œë ¥<br>

## í”¼ì§ìŠ¤ ë©”í…Œë¦¬ì–¼ FootStep ë° ì‚¬ìš´ë“œ ê´€ë¦¬  
LandScape ë ˆë²¨ ë ˆì´ì–´ ë°œì†Œë¦¬ ë° ì´í™íŠ¸ ì¶œë ¥. <br/>
AudioComponent ë° ì‚¬ìš´ë“œíë¥¼ ì‚¬ìš©í•œ ì‚¬ìš´ë“œ ê´€ë¦¬. <br/>

<img src="https://github.com/user-attachments/assets/5579af27-e638-4460-ad08-f0957ab7d3ec" alt="footstepimage" width="600" />

<details>
<summary><strong>ğŸ“Œ LandScape Physical Material FootStep ì½”ë“œ </strong></summary>

```cpp
//landscape
FHitResult randScapeHitResult = {};
FCollisionQueryParams randScapeParam = {};
randScapeParam.bReturnPhysicalMaterial = true;
randScapeParam.AddIgnoredActor(this);
bool bHitRandScape = GetWorld()->LineTraceSingleByChannel(randScapeHitResult, startPoint, endPoint, ECC_GameTraceChannel6, randScapeParam);

if (bHitRandScape)
{
	// PhysMaterial ì–»ê¸°
	UPhysicalMaterial* physMat = randScapeHitResult.PhysMaterial.Get();

	if (physMat)
	{
		// SurfaceType ê°€ì ¸ì˜¤ê¸°
		EPhysicalSurface surfaceType = UPhysicalMaterial::DetermineSurfaceType(physMat);
		switch (surfaceType)
		{
		case SurfaceType_Default:
			break;
			//NormalTile
		case SurfaceType1:
			if (sound_NormalTile.Num() > 0)
			{
				int32 normalTileIndex = FMath::RandRange(0, sound_NormalTile.Num() - 1);
				UGameplayStatics::PlaySoundAtLocation(GetWorld(), sound_NormalTile[normalTileIndex], hit.ImpactPoint);
			}
			break;
			//DungeonTile
		case SurfaceType2:
			if (sound_DungeonTile.Num() > 0)
			{
				int32 dungeonTileIndex = FMath::RandRange(0, sound_DungeonTile.Num() - 1);
				UGameplayStatics::PlaySoundAtLocation(GetWorld(), sound_DungeonTile[dungeonTileIndex], hit.ImpactPoint);
			}
			break;
			//Sand
		case SurfaceType3:
			if (sound_Sand.Num() > 0)
			{
				int32 sandIndex = FMath::RandRange(0, sound_Sand.Num() - 1);
				UGameplayStatics::PlaySoundAtLocation(GetWorld(), sound_Sand[sandIndex], hit.ImpactPoint);
			}
			break;
			//Wood
		case SurfaceType4:
			if (sound_Wood.Num() > 0)
			{
				int32 woodIndex = FMath::RandRange(0, sound_Wood.Num() - 1);
				UGameplayStatics::PlaySoundAtLocation(GetWorld(), sound_Wood[woodIndex], hit.ImpactPoint);
			}
			break;
			//Grass
		case SurfaceType5:
			if (sound_Grass.Num() > 0)
			{
				int32 grassIndex = FMath::RandRange(0, sound_Grass.Num() - 1);
				UGameplayStatics::PlaySoundAtLocation(GetWorld(), sound_Grass[grassIndex], hit.ImpactPoint);
			}
			break;
			//Water
		case SurfaceType6:
			if (sound_Water.Num() > 0)
			{
				int32 waterIndex = FMath::RandRange(0, sound_Water.Num() - 1);
				UGameplayStatics::PlaySoundAtLocation(GetWorld(), sound_Water[waterIndex], hit.ImpactPoint);
			}
			break;
		case SurfaceType7:
			//Stone
			if (sound_Stone.Num() > 0)
			{
				int32 stoneIndex = FMath::RandRange(0, sound_Stone.Num() - 1);
				UGameplayStatics::PlaySoundAtLocation(GetWorld(), sound_Stone[stoneIndex], hit.ImpactPoint);
			}
			break;
		default:
			break;
		}
	}
}
```

</details>



## AudioComponentë¥¼ ì‚¬ìš©í•œ BGM ê´€ë¦¬<br/>

<img src="https://github.com/user-attachments/assets/4ddaf1ac-7531-495a-bfb5-d8753d667a22" />

<details>
<summary><strong>ğŸ“Œ Audio Component PlayBGM ì»¤ìŠ¤í…€í•¨ìˆ˜ </strong></summary>

```cpp
void ASwordPlayerGameBase::PlayBGM(USoundBase* bgm)
{
	if (!IsValid(currentBGM) || !currentBGM->IsRegistered())
	{
		currentBGM = NewObject<UAudioComponent>(this, UAudioComponent::StaticClass(), TEXT("BGM_AudioComponent"));
		if (!currentBGM) return;

		currentBGM->bAutoActivate = false;
		currentBGM->bIsUISound = false;
		currentBGM->bAllowSpatialization = false;
		currentBGM->bOverridePriority = true;
		currentBGM->Priority = 100.0f;

		currentBGM->RegisterComponentWithWorld(GetWorld());
		currentBGM->AttachToComponent(RootComponent, FAttachmentTransformRules::KeepRelativeTransform);
	}

	if (currentBGM->IsPlaying())
	{
		currentBGM->Stop();
	}

	currentBGM->SetSound(bgm);
	float fadeBGMInDuration = 2.0f;
	float bgmVolume = 1.0f;
	float bgmStartTime = 0.0f;
	currentBGM->FadeIn(fadeBGMInDuration, bgmVolume, bgmStartTime);
}
```

</details>

## UI Absorption Effect ìœ„ì ¯
3D -> 2D UIì˜ ì¢Œí‘œë³€í™˜ì´ë™  <br/>
ì¢Œí‘œë¡œ ë³€í™˜í•œ ë’¤, í•´ë‹¹ ìœ„ì¹˜ë¡œ ì•¡í„°ë¥¼ ë³´ê°„ ì´ë™  <br/>

<img src="https://github.com/user-attachments/assets/06f6210d-1e0e-4309-a5be-6b6d89580050" />

<details>
<summary><strong>ğŸ“Œ Audio Component PlayBGM ì»¤ìŠ¤í…€í•¨ìˆ˜ </strong></summary>

```cpp
void ASoulActor::Tick(float DeltaTime)
{
    Super::Tick(DeltaTime);
    if (!playerCon) return;

    ASwordCharacter* swordChar = Cast<ASwordCharacter>(playerCon->GetPawn());
    if (!swordChar || !swordChar->characterWidget) return;

    FVector2D holeScreenPos = swordChar->characterWidget->GetSoulHoleScreentPosition();
    targetScreenPosition = holeScreenPos;

    FVector worldOrigin, worldDirection;
    if (playerCon->DeprojectScreenPositionToWorld(targetScreenPosition.X, targetScreenPosition.Y, worldOrigin, worldDirection))
    {
        float distance = 1000.f;
        FVector targetWorldLocation = worldOrigin + worldDirection * distance;

        FVector currentLocation = GetActorLocation();
        FVector direction = (targetWorldLocation - currentLocation).GetSafeNormal();

        float speed = 200.f;
        FVector newLocation = currentLocation + direction * speed * DeltaTime;

        if (FVector::Dist(newLocation, targetWorldLocation) < 5.f)
        {
            newLocation = targetWorldLocation;
        }

        SetActorLocation(newLocation);
    }
}
```

</details>

## MaterField / AnchorField ë¥¼ ì‚¬ìš©í•œ Fracture ì—°ì¶œ
ë²½ì´ ë¶€ì„œì§€ëŠ” ì‹œë„¤ ì»·ì”¬ ì—°ì¶œ

<img src="https://github.com/user-attachments/assets/70e09cd4-f9ba-4dd0-9c16-9de8f698ca8b" />
<img src="https://github.com/user-attachments/assets/54e6b1f4-cd83-4e9d-b810-6486309694c9" />

âœ… ë©€í‹°í”Œë ˆì´ í™˜ê²½êµ¬ì¶•<br/>
âœ… BehaviorTreeë¥¼ ì‚¬ìš©í•œ AI ì œì‘<br/>
âœ… í¬ë˜í”„íŒ… ì‹œìŠ¤í…œì˜ êµ¬í˜„<br/>
âœ… í•œì‚¬ì´í´ì´ ëŒì•„ê°€ëŠ” rpg ê²Œì„ êµ¬í˜„<br/>



